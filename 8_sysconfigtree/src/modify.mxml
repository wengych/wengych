<?xml version="1.0" encoding="utf-8"?>
<mx:TitleWindow xmlns:mx="http://www.adobe.com/2006/mxml"
        title="节点修改"
        layout="vertical"
        width="220"
        height="170"
        titleStyleName="titleText"
        backgroundColor="#99994b1"
        backgroundAlpha="1.0"
        borderColor="white"
        borderAlpha="1.0"
        cornerRadius="0"
        dropShadowEnabled="false">

    <mx:Script>
        <![CDATA[
            import mx.controls.Alert;
            import mx.events.CloseEvent;
            import mx.managers.PopUpManager;
			import mx.rpc.events.FaultEvent;
			import mx.rpc.events.ResultEvent;
			import mx.managers.CursorManager;
			
			private function modclick():void{
                var nodeadd:XMLList=XMLList(parentApplication.usertree.selectedItem);
                var children:XMLList = XMLList(parentApplication.usertree.selectedItem.parent()).children();
                var str:String="";
                var newNode:XML;
				parentApplication.usertree.selectedItem.@KEYNAME=KEYNAMEtext.text;
                parentApplication.usertree.selectedItem.@KEY=keytext.text;
                parentApplication.usertree.selectedItem.@VALUE=valuetext.text;
                parentApplication.usertree.invalidateList();
                parentApplication.usertree.invalidateDisplayList();
				parentApplication.showtext();
				PopUpManager.removePopUp(this);
				
			}
			private function cancleclick():void{
					PopUpManager.removePopUp(this);
			}
        ]]>
    </mx:Script>

    <mx:Style>
        .titleText {
            fontSize: 15px;
            fontWeight:bold;
        }
        .headingText {
            paddingTop: 10px;
            paddingBottom: 10px;
            fontSize: 13px;
        }
    </mx:Style>
	<mx:VBox width="100%" height="100%" horizontalAlign="center">
		<mx:HBox width="50%">
			<mx:Label text="标题：" fontSize="12"/>
			<mx:Spacer width="100%"/>
			<mx:TextInput id="KEYNAMEtext" width="100"  fontSize="12" text="{parentApplication.usertree.selectedItem.@KEYNAME}"/>
		</mx:HBox>
		<mx:HBox width="50%">
			<mx:Label text="键名：" fontSize="12"/>
			<mx:Spacer width="100%"/>
			<mx:TextInput id="keytext" width="100"  fontSize="12" text="{parentApplication.usertree.selectedItem.@KEY}"/>
		</mx:HBox>
		<mx:HBox width="50%">
			<mx:Label text="键值：" fontSize="12"/>
			<mx:Spacer width="100%"/>
			<mx:TextInput id="valuetext" width="100" fontSize="12" text="{parentApplication.usertree.selectedItem.@VALUE}"/>
		</mx:HBox>
		<mx:HBox width="100%">
			<mx:Button label="修改" fontSize="12" click="modclick()"/>
			<mx:Spacer width="100%" />
			<mx:Button label="取消" fontSize="12" click="cancleclick()"/>
		</mx:HBox>
	</mx:VBox>

</mx:TitleWindow>
